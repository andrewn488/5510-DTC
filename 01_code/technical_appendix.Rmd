---
title: "TPS Analysis Technical Appendix"
author: "Andrew Nalundasan, Lynna Tran, Rosalie Sherry, Vishaal Diwan"
date: "`r format(Sys.time(), '%B %d, %Y')`"
output: 
  html_document:
    toc: true
    toc_depth: 3
    toc_float: true
    number_sections: false
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
# load libraries
library(readxl)
library(tidyverse)
library(jtools)
library(vtable)
```


# Read-in the data

+ Data pre-processing occurred in excel using manual formatting
+ No complex wrangling anticipated
+ After verifying the raw data was formatted correctly, we read in the data

Read-in Ledger Reports
```{r}
# read-in data

ledger_balance <- read_excel("../02_raw_data/ledger/Ledger Beginning and Ending Balances.xlsx")
ledger_01 <- read_excel("../02_raw_data/ledger/CLEAN  54445 - MAILINGS AND NEWSLETTER.xlsx")
ledger_02 <- read_excel("../02_raw_data/ledger/CLEAN 54410 - MARKETING.xlsx")
ledger_03 <- read_excel("../02_raw_data/ledger/CLEAN 54425 - WEBSITE EXPENSE.xlsx")
ledger_04 <- read_excel("../02_raw_data/ledger/CLEAN 54430 - BRANDING EXPENSE.xlsx")
ledger_05 <- read_excel("../02_raw_data/ledger/CLEAN 54435 - PUBLIC RELATIONS.xlsx")
ledger_06 <- read_excel("../02_raw_data/ledger/CLEAN 54455 - TENANT RELATIONS.xlsx")
ledger_07 <- read_excel("../02_raw_data/ledger/CLEAN 54465 - BROCHURE AND BUSINESS CARDS.xlsx")
ledger_08 <- read_excel("../02_raw_data/ledger/CLEAN 54475 - DUES MEMBERSHIPS SUBSCRIPTIONS.xlsx")
ledger_09 <- read_excel("../02_raw_data/ledger/CLEAN 54480 - INTERNET ADVERTISING.xlsx")
ledger_10 <- read_excel("../02_raw_data/ledger/CLEAN 54481 - INTERNET LISTING SERVICES.xlsx")
ledger_11 <- read_excel("../02_raw_data/ledger/CLEAN 54482 - SEO SERVICES.xlsx")
ledger_12 <- read_excel("../02_raw_data/ledger/CLEAN 54485 - SIGN POSTERS OTHER.xlsx")
ledger_13 <- read_excel("../02_raw_data/ledger/CLEAN 54490 - MODEL EXPENSE.xlsx")
ledger_14 <- read_excel("../02_raw_data/ledger/CLEAN 54495 - REFERRAL COMMISSIONS.xlsx")

```


Read-in Traffic Reports 
```{r}

```


# Combine Ledger Reports 
```{r}
# pipeline to join all reports for base_1 datasets
ledger_base <- bind_rows(x = ledger_01, y = ledger_02)
ledger_base <- bind_rows(x = ledger_base, y = ledger_03)
ledger_base <- bind_rows(x = ledger_base, y = ledger_04)
ledger_base <- bind_rows(x = ledger_base, y = ledger_05)
ledger_base <- bind_rows(x = ledger_base, y = ledger_06)
ledger_base <- bind_rows(x = ledger_base, y = ledger_07)
ledger_base <- bind_rows(x = ledger_base, y = ledger_08)
ledger_base <- bind_rows(x = ledger_base, y = ledger_09)
ledger_base <- bind_rows(x = ledger_base, y = ledger_10)
ledger_base <- bind_rows(x = ledger_base, y = ledger_11)
ledger_base <- bind_rows(x = ledger_base, y = ledger_12)
ledger_base <- bind_rows(x = ledger_base, y = ledger_13)
ledger_base <- bind_rows(x = ledger_base, y = ledger_14)
summary(ledger_base)
vtable(ledger_base)
```


# Combine Traffic Reports 
```{r}
# pipeline to join all reports for base_1 datasets
```


# Machine Learning Algorithm

+ supervised learning for prediction model

    + variables that drive tenants to sign a lease
    + variables that deter tenants to sign a lease


+ pearson correlation
+ add in a correlation matrix just to make it look fancy
+ run some regressions


# Interpretation of results

+ highly correlated variables
+ lower correlated variables
+ regression analysis
+ interaction variables
+ interpretation of variability

# Conclusion



# Future Research









